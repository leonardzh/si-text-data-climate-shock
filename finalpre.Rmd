---
title: "Mini-Project Presentation"
author: "Portia Williams, Zheng Liu"
date: "7/25/2019"
output: ioslides_presentation
---

```{r setup, include=FALSE}

library(knitr)
library(tools)
opts_chunk$set(
  message = FALSE,
  warning = FALSE,
  cache = TRUE)
```

## Pursuit Poject Idea

This is an R Markdown presentation. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document.

## From Mini-project to Pursuit

sth how mini project contributes to main Pursuit projects

## Data


```{r load_data,context = 'data', echo = FALSE,cache.extra = md5sum('T_data_CPC.R')}
source('T_data_CPC.R')
library(reshape2)
library(ggplot2)
head(allData)
longData<-melt(lastdaymax)
longData<-longData[!is.na(longData$value),]

ggplot(longData, aes(x = Var1, y = Var2)) + 
  geom_raster(aes(fill=value)) + 
  scale_fill_gradient(low="grey90", high="red") +
  labs(x="letters", y="LETTERS", title="Matrix") +
  theme_bw() + theme(axis.text.x=element_text(size=9, angle=0, vjust=0.3),
                     axis.text.y=element_text(size=9),
                     plot.title=element_text(size=11))
```


## Data


```{r load_map, echo = FALSE }
library(leaflet)

leaflet() %>%
    addTiles() %>%
    setView(lng = -77, lat = 39, 
        zoom = 7)




```

## Methods
- Scraping
- Regression
- Text mininig
- Interactive mapping

## Results and discussion




Plain text about *something* important.

Bulleted Lists

- SQL
- Python
- R

Numbered Lists

4. SQL
1. Python
12. R

Tables

id | treatment
---|-----
1  | control
2  | exclosure

# The Biggest Heading

## The Second Heading

### The Third Biggest Heading



```
The *emphasis* indicated by asterisks here does not become
italicized, as it would outside the "code fence".
```






## Sourced Input


``
library(ggplot2)
ggplot(state_movers,
  aes(x = reorder(current_state,-sum_new_movers), y = sum_new_movers)) +
  geom_bar(stat = 'identity') +
  theme(axis.text.x = element_text(
    angle = 90, hjust = 1))
```

## Alternative Engines



```
echo "Hello, ${USER}!"
```

## Cache Dependencies

```{r clean_bar_plot, dependson='load_data', echo = FALSE,eval=FALSE}
ggplot(state_movers,
  aes(
    x = reorder(current_state, -sum_new_movers), 
    y = sum_new_movers)) +
  geom_bar(stat = 'identity') +
  theme(axis.text.x = element_text(
    angle = 90, hjust = 1))
```

## Input Objects

```{r, echo = FALSE,eval=FALSE}
selectInput('pick_state',
  label = 'Pick a State',
  choices = unique(cty_to_cty[['current_state']]))
```

```{r, context = 'server',eval=FALSE}
library(dplyr)
output [['mov_plot']] <- renderPlot({
cty_to_cty %>%
    filter(current_state == input[['pick_state']]) %>%
    group_by(prior_1year_state) %>%
    summarise(sum_new_movers = sum(movers_state_est, na.rm = TRUE)) %>%
    ggplot(aes(x = prior_1year_state, y = sum_new_movers)) +
    geom_bar(stat = 'identity') +
    theme(axis.text.x = element_text(angle = 90, hjust = 1))
})
```

```{r, echo = FALSE,eval = FALSE}
plotOutput('mov_plot')
```

## Reactivity

```{r, context = 'server',eval=FALSE}
plot_data <- reactive({
  filter(cty_to_cty, current_state == input[['pick_state']]) %>%
    group_by(prior_1year_state) %>%
    summarise(sum_new_movers = sum(movers_state_est, na.rm = TRUE))
})
output[['react_mov_plot']] <- renderPlot({
  plot_data() %>%
  ggplot(aes(x = prior_1year_state, y = sum_new_movers)) +
       geom_bar(stat = 'identity') +
       theme(axis.text.x = element_text(angle = 90, hjust = 1))
})
```

```{r, echo = FALSE,eval=FALSE}
plotOutput('react_mov_plot')
```



